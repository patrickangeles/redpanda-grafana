{
 "title": "Redpanda",
 "templating": {
  "list": [
   {
    "name": "node",
    "datasource": "Prometheus",
    "label": "Node",
    "type": "query",
    "refresh": 1,
    "options": null,
    "includeAll": true,
    "allFormat": "",
    "allValue": ".*",
    "multi": true,
    "multiFormat": "",
    "query": "label_values(instance)",
    "current": {
     "text": "",
     "value": null
    },
    "hide": 0,
    "sort": 1
   },
   {
    "name": "node_shard",
    "datasource": "Prometheus",
    "label": "Shard",
    "type": "query",
    "refresh": 1,
    "options": null,
    "includeAll": true,
    "allFormat": "",
    "allValue": ".*",
    "multi": true,
    "multiFormat": "",
    "query": "label_values(shard)",
    "current": {
     "text": "",
     "value": null
    },
    "hide": 0,
    "sort": 1
   },
   {
    "name": "aggr_criteria",
    "datasource": "Prometheus",
    "label": "Aggregate by",
    "type": "custom",
    "refresh": 1,
    "options": [
     {
      "text": "Cluster",
      "value": "",
      "selected": false
     },
     {
      "text": "Instance",
      "value": "instance,",
      "selected": false
     },
     {
      "text": "Instance, Shard",
      "value": "instance,shard,",
      "selected": false
     }
    ],
    "includeAll": false,
    "allFormat": "",
    "allValue": "",
    "multi": false,
    "multiFormat": "",
    "query": "Cluster : cluster,Instance : instance,Instance\\,Shard : instance\\,shard",
    "current": {
     "text": "Cluster",
     "value": ""
    },
    "hide": 0,
    "sort": 1
   }
  ]
 },
 "panels": [
  {
   "type": "text",
   "id": 1,
   "title": "",
   "editable": true,
   "gridPos": {
    "h": 2,
    "w": 24,
    "x": 0,
    "y": 0
   },
   "transparent": true,
   "links": null,
   "span": 1,
   "error": false,
   "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eRedpanda Summary\u003c/h1\u003e",
   "mode": "html"
  },
  {
   "type": "singlestat",
   "id": 2,
   "title": "Nodes Up",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 2,
    "x": 0,
    "y": 2
   },
   "transparent": true,
   "span": 1,
   "error": false,
   "targets": [
    {
     "refId": "",
     "expr": "count by (app) (vectorized_application_uptime)",
     "intervalFactor": 1,
     "step": 40,
     "legendFormat": "Nodes Up"
    }
   ],
   "format": "none",
   "prefix": "",
   "postfix": "",
   "maxDataPoints": 100,
   "valueMaps": [
    {
     "value": "null",
     "op": "=",
     "text": "N/A"
    }
   ],
   "mappingTypes": [
    {
     "name": "value to text",
     "value": 1
    },
    {
     "name": "range to text",
     "value": 2
    }
   ],
   "rangeMaps": [
    {
     "from": "null",
     "to": "null",
     "text": "N/A"
    }
   ],
   "mappingType": 1,
   "nullPointMode": "connected",
   "valueName": "current",
   "valueFontSize": "200%",
   "prefixFontSize": "50%",
   "postfixFontSize": "50%",
   "colorBackground": false,
   "colorValue": true,
   "colors": [
    "#299c46",
    "rgba(237, 129, 40, 0.89)",
    "#d44a3a"
   ],
   "thresholds": "",
   "sparkline": {
    "show": false,
    "full": false,
    "ymin": null,
    "ymax": null,
    "lineColor": "rgb(31, 120, 193)",
    "fillColor": "rgba(31, 118, 189, 0.18)"
   },
   "gauge": {
    "show": false,
    "minValue": 0,
    "maxValue": 100,
    "thresholdMarkers": true,
    "thresholdLabels": false
   },
   "links": [],
   "interval": null,
   "timeFrom": null,
   "timeShift": null,
   "nullText": null,
   "cacheTimeout": null,
   "tableColumn": ""
  },
  {
   "type": "singlestat",
   "id": 3,
   "title": "Partitions",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 2,
    "x": 2,
    "y": 8
   },
   "transparent": true,
   "span": 1,
   "error": false,
   "targets": [
    {
     "refId": "",
     "expr": "count(count by (topic,partition) (vectorized_storage_log_partition_size{namespace=\"kafka\"}))",
     "legendFormat": "Partition count"
    }
   ],
   "format": "none",
   "prefix": "",
   "postfix": "",
   "maxDataPoints": 100,
   "valueMaps": [
    {
     "value": "null",
     "op": "=",
     "text": "N/A"
    }
   ],
   "mappingTypes": [
    {
     "name": "value to text",
     "value": 1
    },
    {
     "name": "range to text",
     "value": 2
    }
   ],
   "rangeMaps": [
    {
     "from": "null",
     "to": "null",
     "text": "N/A"
    }
   ],
   "mappingType": 1,
   "nullPointMode": "connected",
   "valueName": "current",
   "valueFontSize": "200%",
   "prefixFontSize": "50%",
   "postfixFontSize": "50%",
   "colorBackground": false,
   "colorValue": true,
   "colors": [
    "#299c46",
    "rgba(237, 129, 40, 0.89)",
    "#d44a3a"
   ],
   "thresholds": "",
   "sparkline": {
    "show": false,
    "full": false,
    "ymin": null,
    "ymax": null,
    "lineColor": "rgb(31, 120, 193)",
    "fillColor": "rgba(31, 118, 189, 0.18)"
   },
   "gauge": {
    "show": false,
    "minValue": 0,
    "maxValue": 100,
    "thresholdMarkers": true,
    "thresholdLabels": false
   },
   "links": [],
   "interval": null,
   "timeFrom": null,
   "timeShift": null,
   "nullText": null,
   "cacheTimeout": null,
   "tableColumn": ""
  },
  {
   "type": "graph",
   "id": 4,
   "title": "kafka_rpc: Latency  (p95)",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 10,
    "x": 4,
    "y": 14
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "A",
     "expr": "histogram_quantile(0.95, sum(rate(vectorized_kafka_rpc_dispatch_handler_latency_bucket{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by (le, [[aggr_criteria]]))",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, shard: {{shard}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "µs"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null as zero",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "individual",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": true
  },
  {
   "type": "graph",
   "id": 5,
   "title": "kafka_rpc: Latency  (p99)",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 10,
    "x": 14,
    "y": 14
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "A",
     "expr": "histogram_quantile(0.99, sum(rate(vectorized_kafka_rpc_dispatch_handler_latency_bucket{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by (le, [[aggr_criteria]]))",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, shard: {{shard}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "µs"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null as zero",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "individual",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": true
  },
  {
   "type": "text",
   "id": 6,
   "title": "",
   "editable": true,
   "gridPos": {
    "h": 2,
    "w": 12,
    "x": 0,
    "y": 20
   },
   "transparent": true,
   "links": null,
   "span": 1,
   "error": false,
   "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eInternal RPC Latency\u003c/h1\u003e",
   "mode": "html"
  },
  {
   "type": "graph",
   "id": 7,
   "title": "internal_rpc: Latency  (p95)",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 6,
    "x": 0,
    "y": 22
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "A",
     "expr": "histogram_quantile(0.95, sum(rate(vectorized_internal_rpc_dispatch_handler_latency_bucket{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by (le, [[aggr_criteria]]))",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, shard: {{shard}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "µs"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null as zero",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "individual",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": true
  },
  {
   "type": "graph",
   "id": 8,
   "title": "internal_rpc: Latency  (p99)",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 6,
    "x": 6,
    "y": 22
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "A",
     "expr": "histogram_quantile(0.99, sum(rate(vectorized_internal_rpc_dispatch_handler_latency_bucket{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by (le, [[aggr_criteria]]))",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, shard: {{shard}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "µs"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null as zero",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "individual",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": true
  },
  {
   "type": "text",
   "id": 9,
   "title": "",
   "editable": true,
   "gridPos": {
    "h": 2,
    "w": 12,
    "x": 12,
    "y": 20
   },
   "transparent": true,
   "links": null,
   "span": 1,
   "error": false,
   "content": "\u003ch1 style=\"color:#87CEEB; border-bottom: 3px solid #87CEEB;\"\u003eThroughput\u003c/h1\u003e",
   "mode": "html"
  },
  {
   "type": "graph",
   "id": 10,
   "title": "Rate - Total number of bytes read",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 6,
    "x": 12,
    "y": 22
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "",
     "expr": "sum(irate(vectorized_storage_log_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "Bps"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "cumulative",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": false
  },
  {
   "type": "graph",
   "id": 11,
   "title": "Rate - Total number of bytes written",
   "datasource": "Prometheus",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 6,
    "x": 18,
    "y": 22
   },
   "transparent": false,
   "links": null,
   "renderer": "flot",
   "span": 4,
   "error": false,
   "targets": [
    {
     "refId": "",
     "expr": "sum(irate(vectorized_storage_log_written_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
     "intervalFactor": 2,
     "step": 10,
     "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
     "format": "time_series"
    }
   ],
   "xaxis": {
    "format": "",
    "logBase": 0,
    "show": true,
    "mode": "time"
   },
   "yaxes": [
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "Bps"
    },
    {
     "label": null,
     "show": true,
     "logBase": 1,
     "min": 0,
     "format": "short"
    }
   ],
   "legend": {
    "show": true,
    "max": false,
    "min": false,
    "values": false,
    "avg": false,
    "current": false,
    "total": false
   },
   "fill": 1,
   "linewidth": 2,
   "nullPointMode": "null",
   "thresholds": null,
   "lines": true,
   "bars": false,
   "tooltip": {
    "shared": true,
    "value_type": "cumulative",
    "msResolution": true
   },
   "aliasColors": {},
   "steppedLine": false
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 30,
   "title": "errors",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 28
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 29,
     "title": "Rate - The total number of errors while reading http requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_httpd_read_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 31,
     "title": "Rate - The total number of errors while replying to http",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_httpd_reply_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 35,
     "title": "Rate - internal_rpc: Number of errors when shutting down the connection",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_connection_close_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 41,
     "title": "Rate - internal_rpc: Number of requests with not available RPC method",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_method_not_found_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 47,
     "title": "Rate - internal_rpc: Number of service errors",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_service_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 59,
     "title": "Rate - kafka_rpc: Number of errors when shutting down the connection",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_connection_close_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 65,
     "title": "Rate - kafka_rpc: Number of requests with not available RPC method",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_method_not_found_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 71,
     "title": "Rate - kafka_rpc: Number of service errors",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_service_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 85,
     "title": "Rate - Number of failed heartbeat requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_heartbeat_requests_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 92,
     "title": "Rate - Number of failed recovery requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_recovery_requests_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 96,
     "title": "Rate - Number of failed replicate requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_replicate_request_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 102,
     "title": "Rate - Total aio errors",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_aio_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 141,
     "title": "Rate - Number of batch parsing (reading) errors",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_batch_parse_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 142,
     "title": "Rate - Number of batch write errors",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 28
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_batch_write_errors{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 49,
   "title": "io_queue",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 29
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 48,
     "title": "random delay time in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_io_queue_delay{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 50,
     "title": "Number of requests in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_io_queue_queue_length{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 51,
     "title": "current amount of shares",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_io_queue_shares{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 52,
     "title": "Rate - Total bytes passed in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_io_queue_total_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 53,
     "title": "Rate - Total time spent in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_io_queue_total_delay_sec{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 54,
     "title": "Rate - Total bytes passed in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 29
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_io_queue_total_operations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, class: {{class}}, ioshard: {{ioshard}}, mountpoint: {{mountpoint}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 58,
   "title": "kafka_rpc",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 30
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 57,
     "title": "kafka_rpc: Currently active connections",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_kafka_rpc_active_connections{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 60,
     "title": "Rate - kafka_rpc: Number of accepted connections",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_connects{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 61,
     "title": "Rate - kafka_rpc: Memory consumed by request processing",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_consumed_mem_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 62,
     "title": "Rate - kafka_rpc: Number of requests with corrupted headers",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_corrupted_headers{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 63,
     "title": "kafka_rpc: Latency ",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_kafka_rpc_dispatch_handler_latency{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 64,
     "title": "Rate - kafka_rpc: Maximum memory allowed for RPC",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_max_service_mem_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 66,
     "title": "Rate - kafka_rpc: Number of bytes received from the clients in valid requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_received_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 67,
     "title": "Rate - kafka_rpc: Number of requests blocked in memory backpressure",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_requests_blocked_memory{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 68,
     "title": "Rate - kafka_rpc: Number of successfull requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_requests_completed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 69,
     "title": "kafka_rpc: Number of requests being processed by server",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_kafka_rpc_requests_pending{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 70,
     "title": "Rate - kafka_rpc: Number of bytes sent to clients",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 30
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_kafka_rpc_sent_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 73,
   "title": "memory",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 31
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 72,
     "title": "Rate - Allocated memeory size in bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_allocated_memory{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 74,
     "title": "Rate - Total number of cross cpu free",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_cross_cpu_free_operations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 75,
     "title": "Rate - Free memeory size in bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_free_memory{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 76,
     "title": "Rate - Total number of free operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_free_operations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 77,
     "title": "Number of live objects",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_memory_malloc_live_objects{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 78,
     "title": "Rate - Total number of malloc operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_malloc_operations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 79,
     "title": "Rate - Total reclaims operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_reclaims_operations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 80,
     "title": "Rate - Total memeory size in bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 31
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_memory_total_memory{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 13,
   "title": "others",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 32
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 12,
     "title": "Current receive batch queue length",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_alien_receive_batch_queue_length{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 14,
     "title": "Rate - Total number of received messages",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_alien_total_received_messages{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 15,
     "title": "Rate - Total number of sent messages",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_alien_total_sent_messages{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 16,
     "title": "Redpanda build information",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_application_build{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, revision: {{revision}}, shard: {{shard}}, version: {{version}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 17,
     "title": "Redpanda uptime in milliseconds",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_application_uptime{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 18,
     "title": "Partition commited offset. i.e. safely persisted on majority of replicas",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_committed_offset{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 19,
     "title": "Last offset stored by current partition on this node",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_end_offset{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 20,
     "title": "Partion high watermark i.e. highest consumable offset",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_high_watermark{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 21,
     "title": "Last stable offset",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_last_stable_offset{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 22,
     "title": "Flag indicating if this partition instance is a leader",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_leader{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 23,
     "title": "Id of current partition leader",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_leader_id{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 24,
     "title": "Rate - Total number of records fetched",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_cluster_partition_records_fetched{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 25,
     "title": "Rate - Total number of records produced",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_cluster_partition_records_produced{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 26,
     "title": "Number of under replicated replicas",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_cluster_partition_under_replicated_replicas{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 27,
     "title": "The current number of open  connections",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_httpd_connections_current{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 28,
     "title": "Rate - The total number of connections opened",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_httpd_connections_total{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 32,
     "title": "Rate - The total number of http requests served",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_httpd_requests_served{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, service: {{service}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 55,
     "title": "Fetch sessions cache memory usage in bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_kafka_fetch_sessions_cache_mem_usage_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 56,
     "title": "Total number of fetch sessions",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_kafka_fetch_sessions_cache_sessions_count{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 81,
     "title": "Request latency",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_pandaproxy_request_latency{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, operation: {{operation}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 130,
     "title": "Rate - Total number of reported stalls, look in the traces for the exact reason",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 32
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_stall_detector_reported{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 83,
   "title": "raft",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 33
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 82,
     "title": "Rate - Number of finished replicate requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_done_replicate_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 84,
     "title": "Number of raft groups",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_raft_group_count{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 86,
     "title": "Number of groups for which node is a leader",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_raft_leader_for{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 87,
     "title": "Rate - Number of leadership changes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_leadership_changes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 88,
     "title": "Rate - Number of log flushes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_log_flushes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 89,
     "title": "Rate - Number of log truncations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_log_truncations{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 90,
     "title": "Rate - Number of append requests received",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_received_append_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 91,
     "title": "Rate - Number of vote requests received",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_received_vote_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 93,
     "title": "Rate - Number of replicate requests with quorum ack consistency",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_replicate_ack_all_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 94,
     "title": "Rate - Number of replicate requests with leader ack consistency",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_replicate_ack_leader_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 95,
     "title": "Rate - Number of replicate requests with no ack consistency",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_replicate_ack_none_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 97,
     "title": "Rate - Number of vote requests sent",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 33
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_raft_sent_vote_requests{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 99,
   "title": "reactor",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 34
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 98,
     "title": "Rate - Total number of abandoned failed futures, futures destroyed while still containing an exception",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_abandoned_failed_futures{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 100,
     "title": "Rate - Total aio-reads bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_aio_bytes_read{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 101,
     "title": "Rate - Total aio-writes bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_aio_bytes_write{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 103,
     "title": "Rate - Total aio-reads operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_aio_reads{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 104,
     "title": "Rate - Total aio-writes operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_aio_writes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 105,
     "title": "Rate - Total number of C++ exceptions",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_cpp_exceptions{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 106,
     "title": "Rate - Total cpu busy time in milliseconds",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_cpu_busy_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 107,
     "title": "Rate - Total steal time, the time in which some other process was running while Seastar was not trying to run (not sleeping).Because this is in userspace, some time that could be legitimally thought as steal time is not accounted as such. For example, if we are sleeping and can wake up but the kernel hasn't woken us up yet.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_cpu_steal_time_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 108,
     "title": "Rate - Counts bytes read from disk file streams.  A high rate indicates high disk activity. Divide by fstream_reads to determine average read size.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 109,
     "title": "Rate - Counts the number of bytes read from disk that could not be satisfied from read-ahead buffers, and had to block. Indicates short streams, or incorrect read ahead configuration.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_read_bytes_blocked{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 110,
     "title": "Rate - Counts reads from disk file streams.  A high rate indicates high disk activity. Contrast with other fstream_read* counters to locate bottlenecks.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_reads{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 111,
     "title": "Rate - Counts the number of buffered bytes that were read ahead of time and were discarded because they were not needed, wasting disk bandwidth. Indicates over-eager read ahead configuration.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_reads_ahead_bytes_discarded{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 112,
     "title": "Rate - Counts the number of times a buffer that was read ahead of time and was discarded because it was not needed, wasting disk bandwidth. Indicates over-eager read ahead configuration.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_reads_aheads_discarded{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 113,
     "title": "Rate - Counts the number of times a disk read could not be satisfied from read-ahead buffers, and had to block. Indicates short streams, or incorrect read ahead configuration.",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fstream_reads_blocked{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 114,
     "title": "Rate - Total number of fsync operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_fsyncs{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 115,
     "title": "Rate - Total number of io-threaded-fallbacks operations",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_io_threaded_fallbacks{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 116,
     "title": "Rate - Total number of logging failures",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_logging_failures{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 117,
     "title": "Rate - Number of times pollers were executed",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_polls{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 118,
     "title": "Number of pending tasks in the queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_reactor_tasks_pending{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 119,
     "title": "Rate - Total tasks processed",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_tasks_processed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 120,
     "title": "Rate - Number of tasks in the timer-pending queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_reactor_timers_pending{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 121,
     "title": "CPU utilization",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 34
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_reactor_utilization{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 123,
   "title": "scheduler",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 35
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 122,
     "title": "Size of backlog on this queue, in tasks; indicates whether the queue is busy and/or contended",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_scheduler_queue_length{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 124,
     "title": "Rate - Accumulated runtime of this task queue; an increment rate of 1000ms per second indicates full utilization",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_scheduler_runtime_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 125,
     "title": "Shares allocated to this queue",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_scheduler_shares{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 126,
     "title": "Rate - Accumulated starvation time of this task queue; an increment rate of 1000ms per second indicates the scheduler feels really bad",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_scheduler_starvetime_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 127,
     "title": "Rate - Count of tasks executing on this queue; indicates together with runtime_ms indicates length of tasks",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_scheduler_tasks_processed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 128,
     "title": "Rate - Total amount in milliseconds we were in violation of the task quota",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_scheduler_time_spent_on_task_quota_violations_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 129,
     "title": "Rate - Accumulated waittime of this task queue; an increment rate of 1000ms per second indicates queue is waiting for something (e.g. IO)",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 35
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_scheduler_waittime_ms{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, group: {{group}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 132,
   "title": "storage",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 36
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 131,
     "title": "controller backlog",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_storage_compaction_backlog_controller_backlog_size{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 133,
     "title": "current controller error, i.e difference between set point and backlog size",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_storage_compaction_backlog_controller_error{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 134,
     "title": "controller output, i.e. number of shares",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_storage_compaction_backlog_controller_shares{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 135,
     "title": "Rate - Size of the database in memory",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_cached_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 136,
     "title": "Rate - Number of entries fetched",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_entries_fetched{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 137,
     "title": "Rate - Number of entries removaled",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_entries_removed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 138,
     "title": "Rate - Number of entries written",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_entries_written{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 139,
     "title": "Rate - Number of keys in the database",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_key_count{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 140,
     "title": "Rate - Number of segments rolled",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_kvstore_segments_rolled{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 143,
     "title": "Rate - Total number of batches read",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_batches_read{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 144,
     "title": "Rate - Total number of batches written",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_batches_written{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 145,
     "title": "Rate - Reader cache hits",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cache_hits{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 146,
     "title": "Rate - Reader cache misses",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cache_misses{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 147,
     "title": "Rate - Total number of cached batches read",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cached_batches_read{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 148,
     "title": "Rate - Total number of cached bytes read",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cached_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 149,
     "title": "Rate - Number of compacted segments",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_compacted_segment{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 150,
     "title": "Rate - Average segment compaction ratio",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_compaction_ratio{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 151,
     "title": "Rate - Number of times we had to re-construct the .compaction index on a segment",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_corrupted_compaction_indices{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 152,
     "title": "Rate - Number of active log segments",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_log_segments_active{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 153,
     "title": "Rate - Number of created log segments",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_log_segments_created{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 154,
     "title": "Rate - Number of removed log segments",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_log_segments_removed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 155,
     "title": "Current size of partition in bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_storage_log_partition_size{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 156,
     "title": "Rate - Total number of bytes read",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 157,
     "title": "Rate - Number of readers added to cache",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_readers_added{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 158,
     "title": "Rate - Number of readers evicted from cache",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_readers_evicted{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 159,
     "title": "Rate - Total number of bytes written",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_written_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 160,
     "title": "Batch cache hit ratio - batches",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cached_batches_read{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]]) / sum(irate(vectorized_storage_log_batches_read{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 161,
     "title": "Batch cache hit ratio - bytes",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 36
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_storage_log_cached_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]]) / sum(irate(vectorized_storage_log_read_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, namespace: {{namespace}}, partition: {{partition}}, shard: {{shard}}, topic: {{topic}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    }
   ]
  },
  {
   "type": "row",
   "collapsed": true,
   "id": 34,
   "title": "vectorized_internal_rpc",
   "editable": true,
   "gridPos": {
    "h": 6,
    "w": 24,
    "x": 0,
    "y": 37
   },
   "transparent": false,
   "links": null,
   "span": 0,
   "error": false,
   "panels": [
    {
     "type": "graph",
     "id": 33,
     "title": "internal_rpc: Currently active connections",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_internal_rpc_active_connections{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 36,
     "title": "Rate - internal_rpc: Number of accepted connections",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_connects{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 37,
     "title": "Rate - internal_rpc: Memory consumed by request processing",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_consumed_mem_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 38,
     "title": "Rate - internal_rpc: Number of requests with corrupted headers",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_corrupted_headers{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 39,
     "title": "internal_rpc: Latency ",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_internal_rpc_dispatch_handler_latency{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 40,
     "title": "Rate - internal_rpc: Maximum memory allowed for RPC",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_max_service_mem_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 42,
     "title": "Rate - internal_rpc: Number of bytes received from the clients in valid requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_received_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 43,
     "title": "Rate - internal_rpc: Number of requests blocked in memory backpressure",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_requests_blocked_memory{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 44,
     "title": "Rate - internal_rpc: Number of successfull requests",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 16,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_requests_completed{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "ops"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    },
    {
     "type": "graph",
     "id": 45,
     "title": "internal_rpc: Number of requests being processed by server",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 0,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(vectorized_internal_rpc_requests_pending{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": true
    },
    {
     "type": "graph",
     "id": 46,
     "title": "Rate - internal_rpc: Number of bytes sent to clients",
     "datasource": "Prometheus",
     "editable": true,
     "gridPos": {
      "h": 6,
      "w": 8,
      "x": 8,
      "y": 37
     },
     "transparent": false,
     "links": null,
     "renderer": "flot",
     "span": 4,
     "error": false,
     "targets": [
      {
       "refId": "",
       "expr": "sum(irate(vectorized_internal_rpc_sent_bytes{instance=~\"[[node]]\",shard=~\"[[node_shard]]\"}[1m])) by ([[aggr_criteria]])",
       "intervalFactor": 2,
       "step": 10,
       "legendFormat": "node: {{instance}}, shard: {{shard}}",
       "format": "time_series"
      }
     ],
     "xaxis": {
      "format": "",
      "logBase": 0,
      "show": true,
      "mode": "time"
     },
     "yaxes": [
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "Bps"
      },
      {
       "label": null,
       "show": true,
       "logBase": 1,
       "min": 0,
       "format": "short"
      }
     ],
     "legend": {
      "show": true,
      "max": false,
      "min": false,
      "values": false,
      "avg": false,
      "current": false,
      "total": false
     },
     "fill": 1,
     "linewidth": 2,
     "nullPointMode": "null",
     "thresholds": null,
     "lines": true,
     "bars": false,
     "tooltip": {
      "shared": true,
      "value_type": "cumulative",
      "msResolution": true
     },
     "aliasColors": {},
     "steppedLine": false
    }
   ]
  }
 ],
 "editable": true,
 "timezone": "utc",
 "refresh": "10s",
 "time": {
  "from": "now-1h",
  "to": "now"
 },
 "timepicker": {
  "refresh_intervals": [
   "5s",
   "10s",
   "30s",
   "1m",
   "5m",
   "15m",
   "30m",
   "1h",
   "2h",
   "1d"
  ],
  "time_options": [
   "5m",
   "15m",
   "1h",
   "6h",
   "12h",
   "24h",
   "2d",
   "7d",
   "30d"
  ]
 },
 "annotations": {
  "list": null
 },
 "links": null,
 "schemaVersion": 12
}